# NIYO TASK MGT. SYSTEM APPLICATION

## Table of contents

- [General info](#general-info)
- [Dependencies](#dependencies)
- [Setup](#setup)
- [Usage](#usage)
- [Test](#test)
- [Postman Doc](#postman-documentation)

---

## General Info

This is a Node.JS RestAPI task application powered by NestJS a framework built on the express server, with TypeScript support, PostgreSql DBMS and JWT for authentication was utilized. The API will serve as the backend of a TASK MANAGEMENT SYSTEM.A user can register, and authenticate themselve into the system by way of login, a cookie is generated which houses the token generated by JWT, which expires after 24Hrs. To logout, a user can simply clear the cooke with the token.

---

## Dependencies

- "argon2"
- "cookie-parser"
- "cors"
- "dotenv"
- "express"
- "express-session"
- "passport"
- "passport-jwt"
- "passport-local"
- "prisma"
- "postgresql"
- "pg"
- "pg-hstore"
- "prettier"
- "@nestjs/config"

---

## Setup

Clone this repo to your desktop with $`git clone https://github.com/peterihimire/niyo-tms-app.git`

Change directory into the folder $`cd niyo-tms-app`

Create a .env file $`touch .env`

Copy these to your `.env file` and feel free to customize according to your need

```txt
PORT=8090
DATABASE_URL=postgresql://postgres:testing123@localhost:5432/task_manager?schema=public
JWT_SECRET=randomsecretforyou
```

---

## Usage

After cloning the repo to your desktop, added your .env file and wired up your postgreSQL database string url, and database configuration, edit your jwt secret . From your bash command line, inside of the root directory of app, run $`npm install` to install its dependencies.

Once the dependencies are installed, run `npx prisma generate` to generate prisma client for the application. This prisma client are the database types, we can use in the application instead of writing out our own types. Finally you can run $`npm run start` to start the application.

To test the API endpoints you can use postman or insomnia,if you wish, you can add to your global environment variable for the base url: `http://127.0.0.1:8090/api/taskmgt/v1` and name it whatever you wish, mine is `{{SAPI}}`. Save it and proceed to test the api.

- **Test Endpoint:** Use this endpoint to test if the API is working , for success and fail you will get the following responses

  ![Cookie](https://res.cloudinary.com/dymhdpka1/image/upload/v1694963431/Screenshot_2023-09-17_at_3.44.56_PM_sfqtao.png)

  ```js
  {
   "status": "success",
   "msg": "Silex Test API was initiated successfully!"
  }
  ```

  ```js
  {
    "status": "fail",
    "msg": "Could not find this route, make sure the URL is correct !"
  }
  ```

---

## Postman Documentation

Click this [highlighted link](https://documenter.getpostman.com/view/12340633/2s9YC7SrQw) to access the postman documentation of this Backend API task and the websocket server.
